<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <style media="screen">
      body, a {
        background-color: black;
        color: white;
      }
    </style>
  </head>
  <body>
    <form class="" action="index.html" method="post">
      <input type="text" id="searchBox1" name="keyword" value="Daster Kencana Ungu"><br>
      <button type="button" onclick="openAllSearchWindow()">
        Cari
      </button>
    </form>
    <div id="searchLinks" style="background-color:grey; color: blue">
      LINK
    </div>

    <script type="text/javascript">

      function wrapInAnchor(myLink, linkName) {
        return "<a href='" + myLink + "' target='_blank'>" + linkName + "</a><br>";
      }

      function openAllSearchWindow() {

        let searchQuery = document.getElementById("searchBox1").value;

        let links = [];

        links[0] = "https://www.google.com/search?q=" + searchQuery + "&tbm=shop";
        links[1] = "https://shopee.co.id/search?keyword=" + searchQuery;
        links[2] = "https://www.tokopedia.com/search?st=product&q=" + searchQuery;
        links[3] = "https://www.bukalapak.com/products?from=omnisearch&from_keyword_history=false&search%5Bkeywords%5D=" + searchQuery;
        links[4] = "https://www.jd.id/search?keywords=" + searchQuery;
        links[5] = "https://www.lazada.co.id/catalog/?q=" + searchQuery;
        links[6] = "https://www.olx.co.id/items/q-" + searchQuery.replace(" ", "-");
        links[7] = "https://www.bhinneka.com/jual?cari=" + searchQuery.replace(" ", "+");
        links[8] = "https://trends.google.com/trends/explore?date=all&geo=ID&q=" + searchQuery;
        links[9] = "https://www.facebook.com/marketplace/jakarta/search/?query=" + searchQuery;

        let allLinks = " ";

        //for (let i = 0; i < links.length; i++) {
        for (let i = links.length - 1; i > -1; i--) {
          allLinks +=  wrapInAnchor( links[i], links.length - i);
        }

        console.log("semua linknya adalah berikut " + allLinks);

        let myNav = document.querySelector("#searchLinks");

        myNav.innerHTML = allLinks;

        let newLinks = document.querySelectorAll("#searchLinks > a");

        for (let i = 0; i < newLinks.length; i++) {
          newLinks[i].click();
        }
      }
    </script>
  </body>
</html>
